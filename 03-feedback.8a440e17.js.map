{"mappings":"IA0BEA,EAAe,C,KA1BJ,CAACC,EAAKC,KACf,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,W,KAIhCT,IACX,IACE,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,GACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,W,OAI9BT,IACb,IACEK,aAAaQ,WAAWb,GACxB,MAAOO,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,YCpB/C,MAEMK,EAAUC,SAASC,cAAc,mBAcvC,WACI,MAAMC,EAAYlB,EAAWmB,KAjBR,uBAkBjBD,GACAE,OAAOC,QAAQH,GAAWI,SAAQ,EAAEC,EAAMrB,MACtCa,EAAQS,SAASD,GAAQrB,KAjBrCuB,GACAV,EAAQW,iBAAiB,SAEzB,SAAqBC,GACjB,IAAIT,EAAYlB,EAAWmB,KAPN,uBAQjBD,IACAA,EAAY,IAEhB,MAAMK,KAACA,EAAIrB,MAAEA,GAASyB,EAAMC,OAC5BV,EAAUK,GAAQrB,EAClBF,EAAW6B,KAbU,sBAaaX,MAoBtCH,EAAQW,iBAAiB,UARHC,IAClBA,EAAMG,iBACN,MAAMC,MAACA,EAAKrB,QAAEA,GAAWiB,EAAMK,cAC/BvB,QAAQwB,IAAI,CAACF,MAAOA,EAAM7B,MAAOQ,QAASA,EAAQR,QAClDyB,EAAMK,cAAcE,QACpBlC,EAAWmC,OA9BU","sources":["src/js/storage.js","src/js/03-feedback.js"],"sourcesContent":["const save = (key, value) => {\n    try {\n      const serializedState = JSON.stringify(value);\n      localStorage.setItem(key, serializedState);\n    } catch (error) {\n      console.error(\"Set state error: \", error.message);\n    }\n  };\n  \n  const load = key => {\n    try {\n      const serializedState = localStorage.getItem(key);\n      return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n      console.error(\"Get state error: \", error.message);\n    }\n  };\n\n  const remove = key => {\n    try {\n      localStorage.removeItem(key);\n    } catch (error) {\n      console.error(\"Get state error: \", error.message);\n    }\n  };\n  \n  export default {\n    save,\n    load,\n    remove,\n  };","import storageApp from \"./storage\"\n\nconst CONTACT_FORM_KEY = \"feedback-form-state\"\n\nconst formRef = document.querySelector(\".feedback-form\");\ninitialPage();\nformRef.addEventListener('input', handleInput);\n\nfunction handleInput(event) {\n    let savedData = storageApp.load(CONTACT_FORM_KEY);\n    if(!savedData) {\n        savedData = {}\n    }\n    const {name, value} = event.target;\n    savedData[name] = value;\n    storageApp.save(CONTACT_FORM_KEY, savedData);\n}\n\nfunction initialPage() {\n    const savedData = storageApp.load(CONTACT_FORM_KEY);\n    if (savedData) {\n        Object.entries(savedData).forEach(([name, value]) => {\n            formRef.elements[name] = value;\n        })\n    }\n}\n\nconst handleSubmit = (event) => {\n    event.preventDefault();\n    const {email, message} = event.currentTarget;\n    console.log({email: email.value, message: message.value});\n    event.currentTarget.reset();\n    storageApp.remove(CONTACT_FORM_KEY);\n}\n\nformRef.addEventListener('submit', handleSubmit);"],"names":["$3fff5e8daf4b13a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","$945622fd0f572e60$var$formRef","document","querySelector","savedData","load","Object","entries","forEach","name","elements","$945622fd0f572e60$var$initialPage","addEventListener","event","target","save","preventDefault","email","currentTarget","log","reset","remove"],"version":3,"file":"03-feedback.8a440e17.js.map"}